@(repoCreationSettings: Form[controllers.Application.RepoCreation], userTeams: Seq[org.kohsuke.github.GHTeam])(implicit req: Request[AnyContent], messages: Messages)

@import views.html.helper.CSRF
@implicitFieldConstructor = @{ b3.vertical.fieldConstructor }

@main {

    <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-6">
        @b3.form(routes.Application.createPublicRepo()) {
            @CSRF.formField

            @b3.inputWrapped(
                "text",
                repoCreationSettings("name"),
                '_label -> "Repository name",
                'maxlength -> "100",
                'required -> true,
                'pattern -> "^[A-Za-z0-9_-]+$",
                'autofocus -> true) { input =>
                <div class="input-group" >
                    <span class="input-group-addon">
                        <img src="@lib.Bot.orgUser.getAvatarUrl&s=40" width="20" height="20" class="img-rounded"> @lib.Bot.org /</span>
                    @input
                </div>
            }

            @b3.select(
                repoCreationSettings("teamId"),
                options = userTeams.map(t => t.getId.toString -> s"${t.getName} (${t.listMembers().size} members)"),
                '_label -> "GitHub Team for initial Admin rights"
            )

            @b3.submit('class -> s"btn btn-primary btn-lg") {
                <span class="octicon octicon-repo"></span> Create public repository
            }
        }
        </div>

        <div class="col-md-3"></div>
    </div>
}